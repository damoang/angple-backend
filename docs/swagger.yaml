basePath: /api/v2
definitions:
  common.APIResponse:
    properties:
      data: {}
      error:
        $ref: '#/definitions/common.ErrorInfo'
      meta:
        $ref: '#/definitions/common.Meta'
    type: object
  common.ErrorInfo:
    properties:
      code:
        type: string
      details:
        type: string
      message:
        type: string
    type: object
  common.Meta:
    properties:
      board_id:
        type: string
      limit:
        type: integer
      page:
        type: integer
      total:
        type: integer
    type: object
  common.V2Error:
    properties:
      code:
        type: string
      details: {}
      message:
        type: string
    type: object
  common.V2Meta:
    properties:
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  common.V2Response:
    properties:
      data: {}
      error:
        $ref: '#/definitions/common.V2Error'
      meta:
        $ref: '#/definitions/common.V2Meta'
      success:
        type: boolean
    type: object
  domain.ChangePlanRequest:
    properties:
      billing_cycle:
        enum:
        - monthly
        - yearly
        type: string
      plan:
        enum:
        - free
        - pro
        - business
        - enterprise
        type: string
    required:
    - plan
    type: object
  domain.ProvisionRequest:
    properties:
      owner_email:
        type: string
      plan:
        enum:
        - free
        - pro
        - business
        - enterprise
        type: string
      site_name:
        maxLength: 100
        minLength: 1
        type: string
      subdomain:
        maxLength: 50
        minLength: 3
        type: string
      theme:
        type: string
    required:
    - owner_email
    - plan
    - site_name
    - subdomain
    type: object
  v2.CreateAdminRequest:
    properties:
      email:
        type: string
      name:
        type: string
      password:
        minLength: 8
        type: string
      username:
        type: string
    required:
    - email
    - name
    - password
    - username
    type: object
  v2.CreateAdminResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
      userId:
        type: string
    type: object
  v2.TestDBRequest:
    properties:
      database:
        type: string
      host:
        type: string
      password:
        type: string
      port:
        type: integer
      user:
        type: string
    required:
    - database
    - host
    - port
    - user
    type: object
  v2.TestDBResponse:
    properties:
      hasExistingData:
        type: boolean
      message:
        type: string
      success:
        type: boolean
      tables:
        items:
          type: string
        type: array
    type: object
host: localhost:8082
info:
  contact: {}
  description: Angple Community Platform - Open Source Backend API
  license:
    name: MIT
  title: Angple Backend API
  version: "2.0"
paths:
  /api/v2/admin/tenants:
    get:
      parameters:
      - default: 1
        description: 페이지
        in: query
        name: page
        type: integer
      - default: 20
        description: 페이지당 항목
        in: query
        name: per_page
        type: integer
      - default: all
        description: 상태 필터 (active, suspended, all)
        in: query
        name: status
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 테넌트 목록 (관리자)
      tags:
      - admin-tenants
  /api/v2/admin/tenants/{id}:
    get:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 테넌트 상세 (관리자)
      tags:
      - admin-tenants
  /api/v2/admin/tenants/{id}/plan:
    put:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 테넌트 플랜 변경 (관리자)
      tags:
      - admin-tenants
  /api/v2/admin/tenants/{id}/suspend:
    post:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 테넌트 정지 (관리자)
      tags:
      - admin-tenants
  /api/v2/admin/tenants/{id}/unsuspend:
    post:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 테넌트 정지 해제 (관리자)
      tags:
      - admin-tenants
  /api/v2/admin/tenants/{id}/usage:
    get:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 테넌트 사용량 조회
      tags:
      - admin-tenants
  /api/v2/admin/tenants/plans:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 플랜별 리소스 제한 조회
      tags:
      - admin-tenants
  /api/v2/install/create-admin:
    post:
      consumes:
      - application/json
      description: Creates the initial admin account during installation
      parameters:
      - description: Admin account details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v2.CreateAdminRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.CreateAdminResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.APIResponse'
      summary: Create admin account
      tags:
      - install
  /api/v2/install/status:
    get:
      description: Returns whether the system is already installed
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Check installation status
      tags:
      - install
  /api/v2/install/test-db:
    post:
      consumes:
      - application/json
      description: Tests if the provided database credentials are valid
      parameters:
      - description: Database connection details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v2.TestDBRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.TestDBResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.APIResponse'
      summary: Test database connection
      tags:
      - install
  /api/v2/marketplace:
    get:
      parameters:
      - default: 1
        description: 페이지
        in: query
        name: page
        type: integer
      - default: 20
        description: 페이지당 항목
        in: query
        name: per_page
        type: integer
      - description: 카테고리 필터
        in: query
        name: category
        type: string
      - description: 검색 키워드
        in: query
        name: keyword
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 마켓플레이스 탐색
      tags:
      - marketplace
  /api/v2/marketplace/{name}:
    get:
      parameters:
      - description: 플러그인 이름
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 플러그인 상세
      tags:
      - marketplace
  /api/v2/marketplace/{name}/download:
    post:
      parameters:
      - description: 플러그인 이름
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 다운로드 기록
      tags:
      - marketplace
  /api/v2/marketplace/{name}/reviews:
    get:
      parameters:
      - description: 플러그인 이름
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 플러그인 리뷰 목록
      tags:
      - marketplace
    post:
      parameters:
      - description: 플러그인 이름
        in: path
        name: name
        required: true
        type: string
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 리뷰 작성
      tags:
      - marketplace
  /api/v2/marketplace/developers/me:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 내 개발자 프로필
      tags:
      - marketplace-developer
  /api/v2/marketplace/developers/register:
    post:
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 개발자 등록
      tags:
      - marketplace-developer
  /api/v2/marketplace/developers/submissions:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 내 제출 목록
      tags:
      - marketplace-developer
    post:
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 플러그인 제출
      tags:
      - marketplace-developer
  /api/v2/saas/communities:
    post:
      consumes:
      - application/json
      parameters:
      - description: 생성 정보
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/domain.ProvisionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 원클릭 커뮤니티 생성
      tags:
      - saas
  /api/v2/saas/communities/{id}:
    delete:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 커뮤니티 삭제 (비활성화)
      tags:
      - saas
  /api/v2/saas/communities/{id}/invoices:
    get:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 페이지
        in: query
        name: page
        type: integer
      - default: 20
        description: 페이지당 항목
        in: query
        name: per_page
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 청구서 목록 조회
      tags:
      - saas
  /api/v2/saas/communities/{id}/subscription:
    get:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 구독 정보 조회
      tags:
      - saas
  /api/v2/saas/communities/{id}/subscription/cancel:
    post:
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 구독 취소
      tags:
      - saas
  /api/v2/saas/communities/{id}/subscription/plan:
    put:
      consumes:
      - application/json
      parameters:
      - description: 사이트 ID
        in: path
        name: id
        required: true
        type: string
      - description: 플랜 변경 정보
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/domain.ChangePlanRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 플랜 변경 (업/다운그레이드)
      tags:
      - saas
  /api/v2/saas/pricing:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.V2Response'
      summary: 플랜 가격 정보 조회
      tags:
      - saas
  /ws/notifications:
    get:
      responses: {}
      summary: 실시간 알림 WebSocket
      tags:
      - notifications
securityDefinitions:
  BearerAuth:
    description: 'JWT Authorization header using the Bearer scheme. Example: "Bearer
      {token}"'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
